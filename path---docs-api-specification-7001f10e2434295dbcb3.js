webpackJsonp([0x86a154a4fcd6],{612:function(x,e){x.exports={data:{markdownRemark:{html:'<p>Gatsby’s APIs are tailored conceptually to some extent after React.js to improve the coherence between the two systems.</p>\n<p>API的两个最重要的优先事项是a）实现广泛和强大的插件生态系统，b）基于广泛而强大的主题生态系统之上（主题在v1后出现）。</p>\n<h2 id="插件"><a href="#%E6%8F%92%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>插件</h2>\n<p>插件可以用很多方式扩展Gatsby：</p>\n<ul>\n<li>数据源（例如来自文件系统或API或数据库）</li>\n<li>将数据从一种类型转换为另一种类型（例如将Markdown文件转换为HTML）</li>\n<li>创建页面（例如，一个markdown文件的目录都会被转换成页面，而URL是从它们的文件名派生的）。</li>\n<li>修改webpack配置（例如，样式选项，添加对其他编译为js语言的支持）</li>\n<li>将东西添加到渲染的HTML（例如元标记，Google Analytics等分析JS 片断）</li>\n<li>写出基于站点数据构建目录的东西（例如服务工作者，站点地图，RSS提要）</li>\n</ul>\n<p>一个插件可以使用多个API来实现其目的。 例如。 css-in-js库<a href="/packages/gatsby-plugin-glamor/">Glamor</a>插件</p>\n<ol>\n<li>修改webpack配置添加它的插件</li>\n<li>添加一个Babel插件来替换React的默认createElement</li>\n<li>\n<p>修改服务器渲染，为每个呈现的页面提取出关键的CSS，并将HTML内联到HTML页面的\n中。  </p>\n<p>\n    &#x63D2;&#x4EF6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F9D;&#x8D56;&#x4E8E;&#x5176;&#x4ED6;&#x63D2;&#x4EF6;&#x3002; <a href="/packages/gatsby-plugin-sharp/">Sharp&#x63D2;&#x4EF6;</a>&#x516C;&#x5F00;&#x4E86;&#x4E00;&#x4E9B;&#x9AD8;&#x7EA7;API&#x6765;&#x8F6C;&#x6362;&#x5176;&#x4ED6;&#x51E0;&#x5F20;Gatsby&#x63D2;&#x4EF6;&#x6240;&#x4F9D;&#x8D56;&#x7684;&#x56FE;&#x50CF;&#x3002; <a href="/packages/gatsby-transformer-remark/">gatsby-transformer-remark</a>&#x505A;&#x4E86;&#x57FA;&#x672C;&#x7684;markdown-&gt; html&#x8F6C;&#x6362;&#xFF0C;&#x4F46;&#x662F;&#x66B4;&#x9732;&#x4E86;&#x4E00;&#x4E2A;API&#x4EE5;&#x5141;&#x8BB8;&#x5176;&#x4ED6;&#x63D2;&#x4EF6;&#x5E72;&#x9884;&#x8F6C;&#x6362;&#x8FC7;&#x7A0B;&#xFF0C;&#x4F8B;&#x5982; <a href="/packages/gatsby-remark-prismjs/">gatsby-remark-prismjs</a>&#x589E;&#x52A0;&#x4E86;&#x4EE3;&#x7801;&#x5757;&#x7684;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x3002;\n  </p>\n  \n  <p>\n    Transformer &#x63D2;&#x4EF6;&#x4E0E;&#x6E90;&#x63D2;&#x4EF6;&#x5206;&#x79BB;&#x3002; Transformer&#x63D2;&#x4EF6;&#x53EA;&#x9700;&#x67E5;&#x770B;&#x7531;&#x63D2;&#x4EF6;&#x521B;&#x5EFA;&#x7684;&#x65B0;&#x8282;&#x70B9;&#x7684;&#x5A92;&#x4F53;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8F6C;&#x6362;&#x5B83;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E00;&#x4E2A;Markdown&#x8F6C;&#x6362;&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x4ECE;&#x4EFB;&#x4F55;&#x6765;&#x6E90;&#x8F6C;&#x6362;Markdown&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#xFF0C;&#x4F8B;&#x5982; &#x6765;&#x81EA;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x6CE8;&#x91CA;&#x6216;Trello&#x7B49;&#x5916;&#x90E8;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x5728;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x4E2D;&#x652F;&#x6301;Markdown&#x3002;\n  </p>\n  \n  <p>\n    &#x67E5;&#x770B;<a href="/docs/plugins/">&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF08;&#x76EE;&#x524D;&#x53EA;&#x6709;&#x5B98;&#x65B9;&#x7684; - &#x7A0D;&#x540E;&#x6DFB;&#x52A0;&#x5BF9;&#x793E;&#x533A;&#x63D2;&#x4EF6;&#x7684;&#x652F;&#x6301;&#xFF09;&#x63D2;&#x4EF6;</a>&#x3002;\n  </p>\n  \n  <h1>\n    API\n  </h1>\n  \n  <h2>\n    &#x6982;&#x5FF5;\n  </h2>\n  \n  <ul>\n    <li>\n      <em>&#x9875;&#x9762; </em>- &#x5E26;&#x6709;&#x8DEF;&#x5F84;&#x540D;&#xFF0C;&#x6A21;&#x677F;&#x7EC4;&#x4EF6;&#x548C;&#x53EF;&#x9009;&#x7684;graphql&#x67E5;&#x8BE2;&#x548C;&#x5E03;&#x5C40;&#x7EC4;&#x4EF6;&#x7684;&#x7AD9;&#x70B9;&#x9875;&#x9762;\n    </li>\n    <li>\n      <em>&#x9875;&#x9762;&#x7EC4;&#x4EF6;</em> - &#x5448;&#x73B0;&#x9875;&#x9762;&#x7684;React.js&#x7EC4;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5E03;&#x5C40;&#x7EC4;&#x4EF6;&#x548C;&#x4E00;&#x4E2A;graphql&#x67E5;&#x8BE2;\n    </li>\n    <li>\n      <em>&#x7EC4;&#x4EF6;&#x6269;&#x5C55;</em> - &#x53EF;&#x4F5C;&#x4E3A;&#x7EC4;&#x4EF6;&#x89E3;&#x6790;&#x7684;&#x6269;&#x5C55;&#x3002; .js&#x548C;.jsx&#x53D7;&#x6838;&#x5FC3;&#x652F;&#x6301;&#x3002; &#x4F46;&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5BF9;&#x5176;&#x4ED6;&#x7F16;&#x8BD1;&#x4E3A;js&#x8BED;&#x8A00;&#x7684;&#x652F;&#x6301;&#x3002;\n    </li>\n    <li>\n      <em>&#x4F9D;&#x8D56;</em> - Gatsby&#x81EA;&#x52A8;&#x8DDF;&#x8E2A;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x4F8B;&#x5982; &#x4E00;&#x4E2A;&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x4F9D;&#x9760;&#x67D0;&#x4E9B;&#x8282;&#x70B9;&#x3002; &#x8FD9;&#x5141;&#x8BB8;&#x70ED;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#xFF0C;&#x7F13;&#x5B58;&#xFF0C;&#x589E;&#x91CF;&#x6784;&#x5EFA;&#x7B49;&#x3002;\n    </li>\n    <li>\n      <em>&#x8282;&#x70B9;</em> - &#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x8C61;\n    </li>\n    <li>\n      <em>&#x8282;&#x70B9;&#x5B57;&#x6BB5;</em> - &#x7531;&#x63D2;&#x4EF6;&#x6DFB;&#x52A0;&#x5230;&#x4E0D;&#x53D7;&#x5176;&#x63A7;&#x5236;&#x7684;&#x8282;&#x70B9;&#x7684;&#x5B57;&#x6BB5;\n    </li>\n    <li>\n      <em>&#x8282;&#x70B9;&#x94FE;&#x63A5;</em> - &#x8F6C;&#x6362;&#x4E3A;GraphQL&#x5173;&#x7CFB;&#x7684;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#x3002; &#x53EF;&#x4EE5;&#x4EE5;&#x5404;&#x79CD;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x63A8;&#x65AD;&#x3002; &#x6765;&#x81EA;&#x8282;&#x70B9;&#x53CA;&#x5176;&#x53D8;&#x6362;&#x6D3E;&#x751F;&#x8282;&#x70B9;&#x7684;&#x7236;/&#x5B50;&#x94FE;&#x63A5;&#x662F;&#x7B2C;&#x4E00;&#x7C7B;&#x94FE;&#x63A5;&#x3002;\n    </li>\n  </ul>\n  \n  <h2>\n    Operators\n  </h2>\n  \n  <ul>\n    <li>\n      <em>Create</em> &#x2014; make a new thing\n    </li>\n    <li>\n      <em>Get</em> &#x2014; get an existing thing\n    </li>\n    <li>\n      <em>Delete</em> &#x2014; remove an existing thing\n    </li>\n    <li>\n      <em>Replace</em> &#x2014; replace an existing thing\n    </li>\n    <li>\n      <em>Set</em> &#x2014; merge into an existing thing\n    </li>\n  </ul>\n  \n  <h2>\n    Extension APIs\n  </h2>\n  \n  <p>\n    Gatsby has multiple processes. The most prominent is the &quot;bootstrap&quot; process. It has several subprocesses. One tricky part to their design is that they run both once during the initial bootstrap but also stay alive during development to continue to respond to changes. This is what drives hot reloading that all Gatsby data is &quot;alive&quot; and reacts to changes in the environment.\n  </p>\n  \n  <p>\n    The bootstrap process is as follows:\n  </p>\n  \n  <p>\n    load site config -&gt; load plugins -&gt; source nodes -&gt; transform nodes -&gt; create graphql schema -&gt; create pages -&gt; compile component queries -&gt; run queries -&gt; fin\n  </p>\n  \n  <p>\n    Once the initial bootstrap is finished, for the development server we start <code>webpack-dev-server</code> and a simple express server for serving files and for a production build, we start building the CSS then JavaScript then HTML with webpack.\n  </p>\n  \n  <p>\n    During these processes there are various extension points where plugins can intervene. All major processes have a <code>onPre</code> and <code>onPost</code> e.g. <code>onPreBootstrap</code> and <code>onPostBootstrap</code> or <code>onPreBuild</code> or <code>onPostBuild</code>. During bootstrap, plugins can respond at various stages to APIs like <code>onCreatePages</code>, <code>onCreateBabelConfig</code>, and <code>onSourceNodes</code>.\n  </p>\n  \n  <p>\n    At each extension point, Gatsby identifies the plugins which implement the API and calls them in serial following their order in the site&apos;s <code>gatsby-config.js</code>.\n  </p>\n  \n  <p>\n    In addition to extension APIs in node, plugins can also implement extension APIs in the server rendering process and the browser e.g. <code>onClientEntry</code> or <code>onRouteUpdate</code>\n  </p>\n  \n  <p>\n    The three main inspirations for this API and spec are React.js&apos; API specifically <a href="https://gist.github.com/vjeux/f2b015d230cc1ab18ed1df30550495ed">@leebyron&apos;s email on the React API</a>, this talk <a href="https://www.youtube.com/watch?v=heh4OeB9A-c&amp;app=desktop">&quot;How to Design a Good API and Why it Matters&quot; by Joshua Bloch</a> who designed many parts of Java, and <a href="https://hapijs.com/api">Hapi.js</a>&apos; plugin design.\n  </p>\n</li>\n</ol>',excerpt:"Gatsby’s APIs are tailored conceptually to some extent after React.js to improve the coherence between the two systems. API的两个最重要的优先事项是a…",timeToRead:3,frontmatter:{title:"API规范"},parent:{__typename:"File",relativePath:"docs/api-specification.md"}}},pathContext:{slug:"/docs/api-specification/"}}}});
//# sourceMappingURL=path---docs-api-specification-7001f10e2434295dbcb3.js.map